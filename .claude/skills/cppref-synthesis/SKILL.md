---
name: cppref-synthesis
description: 分析技术文档（HTML/Markdown/代码）并生成结构化中文文档，包含概述、原理、语法、示例等7个标准章节。
---

> **适用场景**：当你需要"分析技术文档"、"生成中文文档"、"整理 C++ 文档"、"转换技术文档"或"解析 cppreference"页面时使用此 skill。

# 技术文档分析器

读取本地技术文档，转换为结构化的中文技术文档。

## 使用方法

用户提供文档路径，自动读取并生成中文技术文档。

### 支持格式
- HTML (.html, .htm)
- Markdown (.md, .markdown)
- 文本文件 (.txt)
- 代码文件 (.cpp, .hpp, .c, .h, .py, .js, .java 等)

### 输入处理说明

**单文件处理**
- 直接提供文件路径即可处理
- 自动检测文件编码（支持 UTF-8、GBK、Latin-1 等常见编码）

**批量处理**
- 支持目录路径，自动处理目录下所有支持的文件
- 默认递归处理子目录
- 可通过文件扩展名过滤指定类型

**超大文件策略**
- 大于 1MB 的文件自动启用分块处理
- 按语义边界（章节、段落）分割，保持内容连贯性
- 处理完成后自动合并输出

### 输出格式

按照以下 7 个章节生成中文技术文档：

1. **概述 (Overview)** - 概念定义、主要用途、技术定位
2. **来源与演变 (Origin and Evolution)** - 历史背景、设计动机、解决的问题、版本变更
3. **语法与参数 (Syntax and Parameters)** - 核心语法、参数含义说明
4. **底层原理 (Underlying Principles)** - 实现机制、核心算法、性能特征
5. **使用场景 (Use Cases)** - 适用场景、最佳实践、注意事项、常见陷阱
6. **代码示例 (Examples)** - 基础用法、高级用法、常见错误及修正
7. **总结 (Summary)** - 核心要点、技术对比、学习建议

### 格式要求

1. 使用标准 Markdown 格式
2. 代码块标注正确的语言
3. 首次出现的技术术语标注英文原文
4. 保持章节结构清晰
5. 内容准确、专业、易懂

### 质量标准

**内容准确性**
- 语法和参数说明必须与官方文档一致
- 时间/空间复杂度分析必须准确
- 版本变更历史必须可验证

**代码质量**
- 所有代码示例必须是可编译的完整代码或明确标注为伪代码
- 代码应包含必要的头文件和命名空间声明
- 示例代码应展示实际可运行的场景

**完整性**
- 所有 7 个章节必须完整呈现（如某章节确实无内容，标注"N/A"）
- 技术术语首次出现时标注英文原文
- 包含至少一个"正确用法"和一个"常见错误"示例

**格式规范**
- 使用三级标题（###）作为章节内小节标题
- 表格用于对比信息（如复杂度、版本差异）
- 代码块必须指定语言标识

## 使用示例

### 示例 1：处理单个 HTML 文档

用户输入：
> 请分析 `/Users/ninebot/Downloads/vector.html` 这个 cppreference 页面

执行步骤：
1. 读取 HTML 文件内容
2. 提取核心文档信息（过滤导航、广告等）
3. 按照 7 章结构生成中文文档
4. 输出完整的 Markdown 文档

### 示例 2：批量处理代码文件

用户输入：
> 将 `/project/src/algorithms/` 目录下的所有 .cpp 文件转换为技术文档

执行步骤：
1. 扫描目录，收集所有 .cpp 文件
2. 对每个文件执行文档转换
3. 为每个文件生成对应的 .md 输出
4. 汇总处理结果报告

### 示例 3：处理 Markdown 文档

用户输入：
> 整理这份 C++ 并发编程笔记 `/Users/ninebot/notes/concurrency.md`

执行步骤：
1. 读取现有 Markdown 内容
2. 分析内容结构，按照 7 章模板重新组织
3. 补充缺失章节（如底层原理、版本演变）
4. 输出结构化的完整文档

## 参考示例

`examples/` 目录提供完整示例：
- `vector_example.md` - std::vector 完整分析
- `map_example.md` - std::map 完整分析

这些示例展示了完整的输出格式和质量标准，处理时应参照此质量等级执行。

## 文件结构

```
cppref-synthesis/
├── SKILL.md                    # 本文件
├── examples/
│   ├── vector_example.md       # 文档示例
│   └── map_example.md          # 文档示例
└── references/
    └── doc_structure.md        # 文档结构参考
```
